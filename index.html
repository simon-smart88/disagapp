<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A shiny Application for Disaggregation Regression • disagapp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A shiny Application for Disaggregation Regression">
<meta property="og:description" content='Perform user-friendly disaggregation regression analyses using disaggregation. Use when analysing response data that are aggregated to polygon level but the predictor variables are at a higher resolution. Multiple options are provided for loading response data, downloading covariate data and fitting models. Analyses can be saved and loaded and an rmarkdown document can be downloaded to reproduce the analysis. To enable all functionality install with install.packages("disagapp", dependencies = TRUE) . Run locally with run_disagapp() or use a version deployed to &lt;https://disagapp.le.ac.uk&gt; . Disagapp was built using shinyscholar.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">disagapp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/simon-smart88/disagapp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="disagapp-v001">disagapp v0.0.1<a class="anchor" aria-label="anchor" href="#disagapp-v001"></a>
</h1></div>
<p><img src="https://raw.githubusercontent.com/simon-smart88/disagapp/master/inst/shiny/www/logo.png" width="259" height="300" align="right" style="border:10px solid white;"></p>
<p>Disagapp is an application written in R that can be used to perform disaggregation regression analyses using <a href="https://cran.r-project.org/package=disaggregation" class="external-link">{disaggregation}</a> as described in <a href="https://doi.org/10.18637/jss.v106.i11" class="external-link">Nandi et al. (2023)</a>. A version is deployed to <a href="https://disagapp.le.ac.uk/" class="external-link uri">https://disagapp.le.ac.uk/</a></p>
<p><img src="https://raw.githubusercontent.com/simon-smart88/disagapp/master/screenshot.png" width="580" align="center" style="border:10px solid white;"></p>
<p>Disagapp was built using the <a href="https://github.com/simon-smart88/shinyscholar" class="external-link">{shinyscholar}</a> template which was itself forked from {wallace} v2.0.5 (<a href="https://cran.r-project.org/package=wallace" class="external-link">CRAN</a>, <a href="https://wallaceecomod.github.io/wallace/index.html" class="external-link">website</a>)</p>
<p>Install <em>disagapp</em> via Github and run the application with the following R code.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"simon-smart88/disagapp"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://simon-smart88.github.io/disagapp/" class="external-link">disagapp</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/run_disagapp.html">run_disagapp</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introductory-workshop">Introductory workshop<a class="anchor" aria-label="anchor" href="#introductory-workshop"></a>
</h2>
<p>We are organising a workshop to introduce Disagapp that will be held on Teams from 14:00-16:00 UTC on 16 September 2025. To sign up, please fill in the form at <a href="https://forms.office.com/e/pjfbD6RvTi" class="external-link uri">https://forms.office.com/e/pjfbD6RvTi</a></p>
</div>
<div class="section level2">
<h2 id="components-and-modules">Components and modules<a class="anchor" aria-label="anchor" href="#components-and-modules"></a>
</h2>
<p>The application is divided into components that are steps in the analysis and modules that are possible options in each step of the analysis. Each of the modules calls a function of the same name, either in this package or in <code>{disaggregation}</code>.</p>
<div class="section level3">
<h3 id="response---load-the-response-data-resp">Response - load the response data (<code>resp</code>)<a class="anchor" aria-label="anchor" href="#response---load-the-response-data-resp"></a>
</h3>
<ul>
<li>Combine spreadsheet and shapefile: upload both files and merge them</li>
<li>Upload spreadsheet: upload the data and combine it with boundary data</li>
<li>Upload shapefile: when the data is already merged in a shapefile</li>
<li>Example datasets: load an example dataset</li>
<li>Edit data: remove unwanted parts of the data</li>
<li>Simplify polygons: simplify the geometries of the boundary data</li>
</ul>
</div>
<div class="section level3">
<h3 id="covariates---load-covariates-to-use-in-the-analysis-cov">Covariates - load covariates to use in the analysis (<code>cov</code>)<a class="anchor" aria-label="anchor" href="#covariates---load-covariates-to-use-in-the-analysis-cov"></a>
</h3>
<ul>
<li>Accessibility: The time required to travel to cities or healthcare. Provided by the Malaria Atlas Project via <a href="https://github.com/malaria-atlas-project/malariaAtlas" class="external-link">malariaAtlas</a>
</li>
<li>Climate: Various bioclimatic variables relating to temperature and precipitation. Provided by Worldclim via <code>{geodata}</code>
</li>
<li>Land use: The percentage of land covered by different classes of land use. Provided by the Copernicus programme</li>
<li>Nighttime lights: Satellite imagery of the intensity of nighttime lights. Provided by NASA via <a href="https://worldbank.github.io/blackmarbler/" class="external-link">blackmarbler</a> developed by the World Bank</li>
<li>Distance to water: The distance to surface water. Provided by ESRI using data from USGS and ESA</li>
<li>Population density: Population density provided by Worldpop</li>
<li>Upload covariates: Upload your own covariates in the <code>.tif</code> format</li>
</ul>
</div>
<div class="section level3">
<h3 id="aggregation---load-an-aggregation-raster-agg">Aggregation - load an aggregation raster (<code>agg</code>)<a class="anchor" aria-label="anchor" href="#aggregation---load-an-aggregation-raster-agg"></a>
</h3>
<ul>
<li>Population count: Population counts provided by Worldpop</li>
<li>Land use: The percentage of land covered by different classes of land use. Provided by the Copernicus programme</li>
<li>Upload aggregation: Upload your own aggregation raster in the <code>.tif</code> format</li>
<li>Uniform: Generate a uniform aggregation raster</li>
</ul>
</div>
<div class="section level3">
<h3 id="prepare---prepare-the-data-for-modelling-prep">Prepare - prepare the data for modelling (<code>prep</code>)<a class="anchor" aria-label="anchor" href="#prepare---prepare-the-data-for-modelling-prep"></a>
</h3>
<ul>
<li>Generate mesh: generate a spatial mesh from the response data</li>
<li>Summarise and resample covariates: resample covariates so that they have the same resolution and extent</li>
<li>Scale covariates: scales the covariates so that their coefficients can be compared fairly</li>
<li>Covariate correlations: examine correlations between covariates</li>
<li>Reduce covariate resolution: generate lower resolution covariates to speed up model fitting</li>
<li>Finalise data preparation: combine all the data together</li>
</ul>
</div>
<div class="section level3">
<h3 id="fit---fit-a-disaggregation-model-fit">Fit - fit a disaggregation model (<code>fit</code>)<a class="anchor" aria-label="anchor" href="#fit---fit-a-disaggregation-model-fit"></a>
</h3>
<ul>
<li>Fit model: using either gaussian, binomial or poisson likelihood functions and logit, log or identity link functions</li>
</ul>
</div>
<div class="section level3">
<h3 id="predict---make-predictions-pred">Predict - make predictions (<code>pred</code>)<a class="anchor" aria-label="anchor" href="#predict---make-predictions-pred"></a>
</h3>
<ul>
<li>Make predictions: generate predictions from the model</li>
<li>Transfer predictions: transfer predictions to a new area of interest</li>
</ul>
</div>
<div class="section level3">
<h3 id="reproduce---reproduce-the-analysis-rep">Reproduce - reproduce the analysis (<code>rep</code>)<a class="anchor" aria-label="anchor" href="#reproduce---reproduce-the-analysis-rep"></a>
</h3>
<ul>
<li>Download session code: download a <code>.Rmd</code> file that completely replicates the analysis</li>
<li>Reproduce environment: use <a href="https://rstudio.github.io/renv/" class="external-link">renv</a> to capture dependencies, allowing the analysis to be reproduced exactly</li>
<li>Download covariates: download copies of the covariate data</li>
<li>Download package references: download a list of all the packages used in the analysis</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="adding-new-modules">Adding new modules<a class="anchor" aria-label="anchor" href="#adding-new-modules"></a>
</h2>
<p>To add new modules, see the instructions in <code>adding_modules.md</code></p>
</div>
<div class="section level2">
<h2 id="updating-deployments">Updating deployments<a class="anchor" aria-label="anchor" href="#updating-deployments"></a>
</h2>
<p>To update deployments running on shinyserver it is necessary to update the package and also copy the contents of <code>/inst</code> into the <code>/apps</code> directory.</p>
<div class="section level3">
<h3 id="install-the-updated-version-package">Install the updated version package<a class="anchor" aria-label="anchor" href="#install-the-updated-version-package"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">R</span> <span class="at">-e</span> <span class="st">"remotes::install_github('simon-smart88/disagapp')"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update-the-app-directory">Update the app directory<a class="anchor" aria-label="anchor" href="#update-the-app-directory"></a>
</h3>
<p>Because the repository contains the package files as well as the app, we need to update the local copy of the package and then update the app files.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="bu">cd</span> /local/disagapp</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">git</span> pull</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-rf</span> inst/shiny/. /local/shiny/apps/disagapp</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="restart-shinyserver">Restart shinyserver<a class="anchor" aria-label="anchor" href="#restart-shinyserver"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart shiny-server</span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/simon-smart88/disagapp/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/simon-smart88/disagapp/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing disagapp</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon E. H. Smart <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
<li>Tim Lucas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4694-8107" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Simon E. H. Smart, Tim Lucas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
